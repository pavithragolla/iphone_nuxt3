{"version":3,"file":"login.4756a3af.js","sources":["../../../../pages/login.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex h-screen w-full\">\r\n    <div class=\"m-auto\">\r\n      <section class=\"h-screen\">\r\n        <div class=\"container px-6 py-12 h-full\">\r\n          <div\r\n            class=\"\r\n              flex\r\n              justify-center\r\n              items-center\r\n              flex-wrap\r\n              h-full\r\n              g-6\r\n              text-gray-800\r\n            \"\r\n          >\r\n            <div class=\"md:w-8/12 lg:w-6/12 mb-12 md:mb-0\">\r\n              <img\r\n                src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.svg\"\r\n                class=\"w-full\"\r\n                alt=\"Phone image\"\r\n              />\r\n            </div>\r\n            <div class=\"md:w-8/12 lg:w-5/12 lg:ml-20\">\r\n              <div v-if=\"_error\">\r\n                <p class=\"bg-red-500 text-red-200 text-sm p-3 mb-5\">\r\n                  {{ _error }}\r\n                </p>\r\n              </div>\r\n              <form @submit.prevent=\"onSubmit\">\r\n                <!-- Email input -->\r\n                <div class=\"mb-6\">\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"\r\n                      form-control\r\n                      block\r\n                      w-full\r\n                      px-4\r\n                      py-2\r\n                      text-xl\r\n                      font-normal\r\n                      text-gray-700\r\n                      bg-white bg-clip-padding\r\n                      border border-solid border-gray-300\r\n                      rounded\r\n                      transition\r\n                      ease-in-out\r\n                      m-0\r\n                      focus:text-gray-700\r\n                      focus:bg-white\r\n                      focus:border-blue-600\r\n                      focus:outline-none\r\n                    \"\r\n                    placeholder=\"Email address\"\r\n                    v-model=\"form.email\"\r\n                  />\r\n                </div>\r\n\r\n                <!-- Password input -->\r\n                <div class=\"mb-6\">\r\n                  <input\r\n                    type=\"password\"\r\n                    class=\"\r\n                      form-control\r\n                      block\r\n                      w-full\r\n                      px-4\r\n                      py-2\r\n                      text-xl\r\n                      font-normal\r\n                      text-gray-700\r\n                      bg-white bg-clip-padding\r\n                      border border-solid border-gray-300\r\n                      rounded\r\n                      transition\r\n                      ease-in-out\r\n                      m-0\r\n                      focus:text-gray-700\r\n                      focus:bg-white\r\n                      focus:border-blue-600\r\n                      focus:outline-none\r\n                    \"\r\n                    placeholder=\"Password\"\r\n                    v-model=\"form.password\"\r\n                  />\r\n                </div>\r\n\r\n                <!-- Submit button -->\r\n                <button\r\n                  type=\"submit\"\r\n                  class=\"\r\n                    inline-block\r\n                    px-7\r\n                    py-3\r\n                    bg-blue-600\r\n                    text-white\r\n                    font-medium\r\n                    text-sm\r\n                    leading-snug\r\n                    uppercase\r\n                    rounded\r\n                    shadow-md\r\n                    hover:bg-blue-700 hover:shadow-lg\r\n                    focus:bg-blue-700\r\n                    focus:shadow-lg\r\n                    focus:outline-none\r\n                    focus:ring-0\r\n                    active:bg-blue-800 active:shadow-lg\r\n                    transition\r\n                    duration-150\r\n                    ease-in-out\r\n                    w-full\r\n                  \"\r\n                  data-mdb-ripple=\"true\"\r\n                  data-mdb-ripple-color=\"light\"\r\n                >\r\n                  <span v-if=\"isLoading\">Loading...</span>\r\n                  <span v-else>Sign in</span>\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nconst url = \"https://reqres.in/api/login\";\r\nconst isLoading = ref(false);\r\nconst _error = ref(null);\r\n\r\nconst form = reactive({\r\n  email: \"eve.holt@reqres.in\",\r\n  password: \"cityslicka\",\r\n});\r\n\r\nasync function onSubmit() {\r\n  if (isLoading.value) return;\r\n  isLoading.value = true;\r\n  const { data, error } = await useFetch(url, {\r\n    method: \"post\",\r\n    body: form,\r\n  });\r\n  isLoading.value = false;\r\n  if (error.value) {\r\n    _error.value = error.value.data.error;\r\n    return;\r\n  }\r\n  //   console.log(data.value, error.value.data.error);\r\n  const auth = useAuth();\r\n  auth.value.isAuthenticated = true;\r\n  navigateTo(\"/\");\r\n}\r\n</script>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAkIA,UAAA,YAAA,IAAA,KAAA;AACA,UAAA,SAAA,IAAA,IAAA;AAEA,UAAA,OAAA,SAAA;AAAA,MACA,OAAA;AAAA,MACA,UAAA;AAAA,IACA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;"}